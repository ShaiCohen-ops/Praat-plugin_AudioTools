<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Advanced Formula Synthesis — User Guide</title>
<style>
html,body{background:#fff;color:#111;margin:0;font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,sans-serif}
.wrap{max-width:900px;margin:40px auto;padding:0 20px}
h1,h2,h3{line-height:1.25;margin-top:1.25rem} h1{font-size:2rem;margin-top:0}
p.lead{color:#444;margin-top:.25rem}
.meta{color:#555;font-size:.95rem;display:flex;gap:1rem;flex-wrap:wrap}
.panel{background:#fafafa;border:1px solid #e5e7eb;border-radius:10px;padding:14px 16px}
.toc a{color:#0b57d0;text-decoration:none} .toc a:hover{text-decoration:underline}
a{color:#0b57d0}
code,pre{background:#f6f8fa;border:1px solid #e5e7eb;border-radius:6px} code{padding:.15em .35em} pre{padding:12px;overflow:auto}
table{width:100%;border-collapse:collapse;background:#fff;border:1px solid #e5e7eb;border-radius:8px;overflow:hidden}
th,td{padding:10px 12px;border-bottom:1px solid #e5e7eb;vertical-align:top} th{text-align:left;background:#f8fafc} tr:last-child td{border-bottom:none}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px}
footer{margin-top:2rem;color:#555}
.kbd{background:#f6f8fa;border:1px solid #e5e7eb;border-radius:6px;padding:2px 6px;font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
</style></head>
<body><main class="wrap">
<header>
  <h1>Advanced Formula Synthesis — User Guide</h1>
  <p class="lead">Praat script.</p>
  <div class="meta"><span><strong>Author:</strong> Shai Cohen</span> <span><strong>Affiliation:</strong> Department of Music, Bar-Ilan University, Israel</span> <span><strong>Version:</strong> 0.1 (2025)</span> <span><strong>License:</strong> MIT License</span> <span><strong>Repo:</strong> <a href="https://github.com/ShaiCohen-ops/Praat-plugin_AudioTools">https://github.com/ShaiCohen-ops/Praat-plugin_AudioTools</a></span></div>
</header>

<section class="panel toc" aria-label="Table of contents" style="margin-top:16px">
  <strong>Contents:</strong>
  <div class="grid" style="margin-top:8px">
    <a href="#what">What this does</a>
    <a href="#quickstart">Quick start</a>
    <a href="#params">Parameters</a>
    <a href="#modes">Synthesis modes</a>
    <a href="#spatial">Spatial modes</a>
    <a href="#outputs">Outputs</a>
  </div>
</section>

<section id="what">
  <h2>What this does</h2>
  <p>Praat script.</p>
  <p><em><strong>Process Description:</strong> This Praat script implements an Advanced Formula Synthesis System. Unlike methods that rely on real-time signal control, this approach generates the entire sound waveform in a single step using algebraic equations of time (x).
This technique is extremely powerful for generating rich, evolving textures, drones, and metallic sounds, as it allows for the simultaneous combination of deep Frequency Modulation (FM), Amplitude Modulation (AM), and precisely defined inharmonic partial ratios.</em></p>
<p><em><strong>Technical details:</strong> This Praat script implements a multi-mode additive synthesis engine with nested modulation architectures, generating complex timbres through mathematical formula-based waveform generation at 44.1 kHz sample rate. The algorithm constructs layered oscillator banks where each voice is defined by a complete algebraic expression evaluated sample-by-sample, enabling arbitrary complexity limited only by Praat's formula parser constraints. Five synthesis modes implement distinct spectral strategies: Simple Modulation applies frequency modulation with sinusoidal carrier frequency deviation (freq × (1 + depth × 0.3 × sin(2π × 2Hz × t))) combined with slow amplitude modulation at 0.1 Hz, creating subtle vibrato and tremolo effects; Competing Oscillators generates three parallel frequency-modulated voices at irrational ratios (fundamental, φ = 1.618 golden ratio, and e = 2.718 Euler's number) with independent modulation rates (1.5, 2.5, 0.7 Hz) and weighted amplitudes (1.0, 0.5, 0.3), producing inharmonic beating patterns and spectral complexity through non-integer frequency relationships; Chaotic System implements triple-nested modulation where each of three voices (base_freq × [1.0, 1.5, 2.2]) undergoes frequency modulation with phase-modulated modulators (sin(2π × f_mod × t + depth × sin(2π × f_sub × t))), creating time-varying spectral trajectories with quasi-periodic envelopes and exponential decay (exp(-0.3t/duration)); Harmonic Series generates integer multiples of the base frequency with 1/n amplitude falloff and complexity-scaled bi-directional amplitude modulation ((0.8 + 0.2×sin) × (1 - 0.3×sin)), approximating traditional harmonic timbres with evolving spectral balance; and Fibonacci Ratios employs successive golden ratio powers (1.0, 1.618, 2.618, 4.236, 6.854, 11.09, 17.944, 29.034) as frequency multipliers with 1/√ratio amplitude compensation, creating naturally consonant yet non-harmonic frequency relationships found in phyllotaxis and natural growth patterns. Each mode supports optional parameter randomization that applies per-layer variation to base frequencies (typically 60-140% nominal range) and modulation depths, preventing spectral masking through frequency displacement. The synthesis employs direct formula compilation where complete waveform equations—including carrier oscillators, frequency modulators, amplitude envelopes, and phase offsets—are constructed as Praat formula strings and evaluated atomically, avoiding control-rate quantization but requiring careful formula length management to prevent parser overflow. Spatial processing (identical to previous systems) offers four stereo imaging modes: mono preservation, wide stereo through complementary bandpass filtering (left: DC-4kHz, right: 0.2-8kHz), circular rotation via quadrature amplitude modulation at 0.2 Hz, and binaural simulation with 30-sample (~0.68ms) interaural time delay and asymmetric filtering. The script performs unnormalized additive layer summation allowing constructive interference, applies linear fade envelopes at boundaries, and includes optional peak normalization to 0.9. This architecture produces sustained, evolving timbres ranging from nearly harmonic (mode 4) through naturally consonant inharmonic (mode 5) to complex quasi-chaotic spectra (mode 3), suitable for drone composition, spectral music, algorithmic composition exploring mathematical relationships in frequency space, and sound design applications requiring precise control over harmonic/inharmonic balance and temporal evolution of spectral content.</em></p>

</section>

<section id="quickstart">
  <h2>Quick start</h2>
  <ol>
    <li>In <strong>Praat</strong>, select a <strong>Sound</strong> object.</li>
    <li><span class="kbd">Run script…</span> → <code>Advanced Formula Synthesis.praat</code>.</li>
    <li>Set parameters and click <strong>OK</strong>.</li>
    <li>Output object appears (see <em>Outputs</em>).</li>
  </ol>
</section>

<section id="params">
  <h2>Parameters (form fields)</h2>
  <table><thead><tr><th>Name (GUI)</th><th>Type</th><th>Default</th></tr></thead><tbody>
<tr><td><strong>Duration_(sec)</strong></td><td>positive</td><td>10</td></tr>
<tr><td><strong>Base_frequency_(Hz)</strong></td><td>positive</td><td>120</td></tr>
<tr><td><strong>Number_of_layers</strong></td><td>positive</td><td>3</td></tr>
<tr><td><strong>Modulation_depth</strong></td><td>real</td><td>0.6</td></tr>
<tr><td><strong>Complexity_factor</strong></td><td>real</td><td>1.0</td></tr>
<tr><td><strong>Randomize_parameters</strong></td><td>boolean</td><td>1</td></tr>
<tr><td><strong>Fade_time_(sec)</strong></td><td>positive</td><td>2</td></tr>
<tr><td><strong>Normalize_output</strong></td><td>boolean</td><td>1</td></tr>
</tbody></table>
</section>

<section id="modes"><h2>Synthesis modes</h2><ul><li><strong>Simple Modulation</strong></li>
<li><strong>Competing Oscillators</strong></li>
<li><strong>Chaotic System</strong></li>
<li><strong>Harmonic Series</strong></li>
<li><strong>Fibonacci Ratios</strong></li></ul></section>

<section id="spatial"><h2>Spatial modes</h2><ul><li><strong>Mono</strong></li>
<li><strong>Stereo Wide</strong></li>
<li><strong>Rotating</strong></li>
<li><strong>Binaural</strong></li></ul></section>

<section id="outputs">
  <h2>Outputs</h2>
  <ul>
    <li><strong>Object name:</strong> formula_synthesis</li>
    <li><strong>Sample rate:</strong> 44100 Hz</li>
    <li><strong>Normalization:</strong> Final peak scaled to 0.9</li>
  </ul>
</section>

<footer><small>Generated 2025-10-08 • Source: <code>Advanced Formula Synthesis.praat</code></small></footer>

</main></body></html>
