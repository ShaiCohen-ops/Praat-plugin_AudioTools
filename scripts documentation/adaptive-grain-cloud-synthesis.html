<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>ADAPTIVE GRAIN CLOUD SYNTHESIS — User Guide</title>
<style>
html,body{background:#fff;color:#111;margin:0;font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,sans-serif}
.wrap{max-width:900px;margin:40px auto;padding:0 20px}
h1,h2,h3{line-height:1.25;margin-top:1.25rem} h1{font-size:2rem;margin-top:0}
p.lead{color:#444;margin-top:.25rem}
.meta{color:#555;font-size:.95rem;display:flex;gap:1rem;flex-wrap:wrap}
.panel{background:#fafafa;border:1px solid #e5e7eb;border-radius:10px;padding:14px 16px}
.toc a{color:#0b57d0;text-decoration:none} .toc a:hover{text-decoration:underline}
a{color:#0b57d0}
code,pre{background:#f6f8fa;border:1px solid #e5e7eb;border-radius:6px} code{padding:.15em .35em} pre{padding:12px;overflow:auto}
table{width:100%;border-collapse:collapse;background:#fff;border:1px solid #e5e7eb;border-radius:8px;overflow:hidden}
th,td{padding:10px 12px;border-bottom:1px solid #e5e7eb;vertical-align:top} th{text-align:left;background:#f8fafc} tr:last-child td{border-bottom:none}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px}
footer{margin-top:2rem;color:#555}
.kbd{background:#f6f8fa;border:1px solid #e5e7eb;border-radius:6px;padding:2px 6px;font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
</style></head>
<body><main class="wrap">
<header>
  <h1>ADAPTIVE GRAIN CLOUD SYNTHESIS — User Guide</h1>
  <p class="lead">Praat script.</p>
  <div class="meta"><span><strong>Author:</strong> Shai Cohen</span> <span><strong>Affiliation:</strong> Department of Music, Bar-Ilan University, Israel</span> <span><strong>Version:</strong> 0.1 (2025)</span> <span><strong>License:</strong> MIT License</span> <span><strong>Repo:</strong> <a href="https://github.com/ShaiCohen-ops/Praat-plugin_AudioTools">https://github.com/ShaiCohen-ops/Praat-plugin_AudioTools</a></span></div>
</header>

<section class="panel toc" aria-label="Table of contents" style="margin-top:16px">
  <strong>Contents:</strong>
  <div class="grid" style="margin-top:8px">
    <a href="#what">What this does</a>
    <a href="#quickstart">Quick start</a>
    <a href="#params">Parameters</a>
    
    
    <a href="#outputs">Outputs</a>
  </div>
</section>

<section id="what">
  <h2>What this does</h2>
  <p>Praat script.</p>
  <p><em><strong>Process Description:</strong> This script performs granular synthesis, but unlike standard techniques that use fixed parameters, it adaptively modifies the characteristics of each synthesized grain based on the spectral content of the source audio. This results in a dynamic "cloud" of grains where high-frequency segments of the source material are treated differently from low-frequency segments.</em></p>
<p><em><strong>Technical details:</strong> This Praat script implements an adaptive granular synthesis engine that generates stochastic grain clouds with spectral-content-aware processing parameters. The algorithm operates by extracting overlapping temporal segments (grains) from a source sound at randomized positions, with grain extraction governed by user-defined parameters: grain size (default 50 ms), overlap coefficient (default 0.75 determining hop time as grain_duration × (1 - overlap)), and density factor (default 2.0 multiplying the base grain count of duration / hop_time). Each grain undergoes spectral analysis through FFT transformation to calculate its center of gravity (spectral centroid), which serves as an adaptive decision parameter: grains with centroids above 2000 Hz are classified as high-frequency content and receive aggressive amplitude scaling (0.8×) and increased pitch scatter variance (2× the base scatter), while low-frequency grains receive conservative pitch scatter (0.5× base) to maintain stability. Pitch shifting is implemented through frequency-domain manipulation, converting grains to spectra, applying multiplicative frequency scaling via the formula shift_factor = 2^(pitch_shift/12) (where pitch_shift is drawn from a Gaussian distribution), and inverse-transforming back to the time domain. The script offers three window functions for grain extraction—rectangular (no tapering), triangular (linear amplitude envelope), and parabolic (quadratic envelope)—which control spectral leakage and cross-grain interference. Optional stochastic time reversal (50% probability when enabled) introduces phase incoherence and temporal dispersion. All generated grains are concatenated sequentially with amplitude scaling (0.3× per grain to prevent summation clipping) and undergo final peak normalization to 0.99. The randomized grain positioning (randomUniform(0, duration - grain_duration)) combined with spectral-adaptive processing creates non-deterministic texture with locally coherent microstructure, producing complex time-varying timbres where density, pitch deviation, and temporal ordering emerge from the source material's spectral characteristics rather than rigid deterministic rules. This approach generates organic, cloud-like textures particularly effective for ambient sound design and textural composition.</em></p>

</section>

<section id="quickstart">
  <h2>Quick start</h2>
  <ol>
    <li>In <strong>Praat</strong>, select a <strong>Sound</strong> object.</li>
    <li><span class="kbd">Run script…</span> → <code>ADAPTIVE GRAIN CLOUD SYNTHESIS.praat</code>.</li>
    <li>Set parameters and click <strong>OK</strong>.</li>
    <li>Output object appears (see <em>Outputs</em>).</li>
  </ol>
</section>

<section id="params">
  <h2>Parameters (form fields)</h2>
  <table><thead><tr><th>Name (GUI)</th><th>Type</th><th>Default</th></tr></thead><tbody>
<tr><td><strong>grain_size_ms</strong></td><td>positive</td><td>50</td></tr>
<tr><td><strong>grain_overlap</strong></td><td>positive</td><td>0.75</td></tr>
<tr><td><strong>density_factor</strong></td><td>positive</td><td>2.0</td></tr>
<tr><td><strong>pitch_scatter</strong></td><td>positive</td><td>0.2</td></tr>
<tr><td><strong>time_scatter</strong></td><td>positive</td><td>0.1</td></tr>
<tr><td><strong>reverse_grains</strong></td><td>boolean</td><td>0</td></tr>
<tr><td><strong>window_type</strong></td><td>choice</td><td>1</td></tr>
</tbody></table>
</section>





<section id="outputs">
  <h2>Outputs</h2>
  <ul>
    <li><strong>Object name:</strong> output</li>
    <li><strong>Sample rate:</strong> unknown</li>
    <li><strong>Normalization:</strong> Final peak scaled to 0.9</li>
  </ul>
</section>

<footer><small>Generated 2025-10-08 • Source: <code>ADAPTIVE GRAIN CLOUD SYNTHESIS.praat</code></small></footer>

</main></body></html>
